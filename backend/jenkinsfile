pipeline {
    agent any
    stages {
        // stage('provision server') {
         
        //     steps {
        //         script {
        //             dir('./backend') {
        //             withAWS(region:"ap-southeast-2", credentials:"jenkins_aws"){
        //                 sh "terraform init -reconfigure"
        //                 sh "terraform apply --auto-approve"
                        
        //                 }
        //             }
        //         }
        
        //    }
        // }
        stage('Terraform Destroy') {
            steps {
                sh 'terraform init' // make sure Terraform is initialized
                sh 'terraform destroy -auto-approve' // run terraform destroy and auto-approve the operation
            }
            }

    }
}
